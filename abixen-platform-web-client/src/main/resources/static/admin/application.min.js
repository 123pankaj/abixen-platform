var platformAdminApplication=angular.module("platformAdminApplication",["platformNavigationModule","platformPermissionModule","platformRoleModule","platformPageModule","platformUserModule","platformLayoutModule","platformModuleModule","multiVisualizationModule","platformCommonModule","pascalprecht.translate","ui.bootstrap","ui.router","platformAdminControllers","ngAnimate","ngTouch","ngRoute","toaster","ui.grid","ui.grid.exporter","ui.grid.selection","ui.grid.pinning","ui.grid.resizeColumns","ui.grid.moveColumns","ui.grid.autoResize","ui.bootstrap.showErrors"]);platformAdminApplication.factory("platformHttpInterceptor",["$q","$injector",function(a,b){var c="http://localhost:8080/login",d="/application/modules";return{responseError:function(e){if(console.log("rejection: ",e),e.data&&e.data.path&&0==e.data.path.indexOf(d)&&401!=e.status&&403!=e.status&&500!=e.status)return a.reject(e);if(401==e.status)window.location=c;else if(403==e.status){var f=b.get("toaster");f.pop(platformParameters.statusAlertTypes.ERROR,e.data.error,e.data.message)}else if(500==e.status){var f=b.get("toaster");f.pop(platformParameters.statusAlertTypes.ERROR,e.data.error,e.data.message)}return a.reject(e)}}}]),platformAdminApplication.config(["$stateProvider","$translateProvider","$urlRouterProvider","showErrorsConfigProvider","$httpProvider","applicationNavigationItemsProvider",function(a,b,c,d,e,f){e.interceptors.push("platformHttpInterceptor"),e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",d.showSuccess(!0),c.otherwise("/"),a.state("application",{abstract:!0,controller:"ApplicationController",templateUrl:"/admin/html/application.html"}).state("application.dashboard",{url:"/",templateUrl:"/admin/html/dashboard.html"}).state("application.search",{url:"/search?query",controller:"SearchController",templateUrl:"/admin/html/search.html"}),f.addSidebarItem({title:"Dashboard",state:"application.dashboard",orderIndex:0,id:0,iconClass:"fa fa-th"}).addSidebarItem({title:"Users",state:"application.users.list",orderIndex:1,id:1,iconClass:"fa fa-user"}).addSidebarItem({title:"Roles",state:"application.roles.list",orderIndex:2,id:2,iconClass:"fa fa-user-secret"}).addSidebarItem({title:"Permissions",state:"application.permissions.list",orderIndex:3,id:3,iconClass:"fa fa-lock"}).addSidebarItem({title:"Pages",state:"application.pages.list",orderIndex:4,id:4,iconClass:"fa fa-file-text-o"}).addSidebarItem({title:"Modules",state:"application.modules.list",orderIndex:5,id:5,iconClass:"fa fa-list-alt"}).addSidebarItem({title:"Layouts",state:"application.layouts.list",orderIndex:6,id:6,iconClass:"fa fa-columns"}).addSidebarItem({title:"Data Sources",state:"application.multiVisualization.modules.databaseDataSource.list",orderIndex:7,id:7,iconClass:"fa fa-database"})}]),platformAdminApplication.directive("dynamicName",function(a,b){return{restrict:"A",terminal:!0,priority:1e5,link:function(b,c){var d=c.attr("dynamic-name");c.removeAttr("dynamic-name"),c.attr("name",d),a(c)(b)}}});var platformAdminControllers=angular.module("platformAdminControllers",[]);platformAdminControllers.controller("ApplicationController",["$scope","$http","$state","$window","$log","applicationNavigationItems",function(a,b,c,d,e,f){e.log("ApplicationController");var g="http://localhost:8080/login",h="http://localhost:8080";a.platformUser=null,a.logout=function(){b.get("/user",{headers:{authorization:"Basic "+btoa(":")}}).success(function(){window.location=g}).error(function(a){e.error(a),window.location=g})},b.get("/user",{}).success(function(b){a.platformUser=b,e.log("platformUser: ",a.platformUser)});var i={title:"Dashboard",onClick:function(){window.location=h}};f.setRedirectAction(i)}]),platformAdminControllers.controller("SearchController",["$scope","$stateParams","$log",function(a,b,c){c.log("SearchController"),a.searchTerm=b.query}]);var platformParameters={formats:{DATE_TIME_FORMAT:"MMM d, y h:mm:ss a"},statusAlertTypes:{SUCCESS:"success",ERROR:"error",WARNING:"warning",NOTE:"note",WAIT:"wait"}};platformAdminApplication.config(["$translateProvider",function(a){a.translations("en",{search:"Search",dashboard:"Dashboard",users:"Users",roles:"Roles",permissions:"Permissions",pages:"Pages",modules:"Modules",templates:"Templates","data-sources":"Data Sources","my-account":"My Account",logout:"Logout"}).translations("pl",{search:"Szukaj",dashboard:"Dashboard",users:"Użytkownicy",roles:"Role",permissions:"Uprawnienia",pages:"Strony",modules:"Moduły",templates:"Szablony","data-sources":"Źródła Danych","my-account":"Moje Konto",logout:"Wyloguj"}),a.preferredLanguage("en")}]);